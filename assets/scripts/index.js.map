{"version":3,"sources":["rAF.js","smoothscroll.js","stickyheader.js"],"names":["lastTime","vendors","x","length","window","requestAnimationFrame","cancelAnimationFrame","callback","element","currTime","Date","getTime","timeToCall","Math","max","id","setTimeout","clearTimeout","initSmoothScrolling","document","documentElement","style","duration","pageUrl","location","hash","stripHash","href","addClickHandler","links","querySelectorAll","filter","isInPageLink","a","addEventListener","onClick","e","stopPropagation","preventDefault","target","jump","offset","setFocus","history","pushState","n","tagName","toLowerCase","url","slice","lastIndexOf","getElementById","substring","test","tabIndex","focus","options","start","pageYOffset","opt","easing","easeInOutQuad","distance","querySelector","getBoundingClientRect","top","timeStart","timeElapsed","time","loop","scrollTo","end","t","b","c","d","originalObj","lastScrollTop","height","cloneObj","minDistance","_cloneObj","obj","cloneNode","classList","add","parentNode","insertBefore","_setVars","offsetHeight","offsetTop","_redrawLoop","pageY","scrollY","travelledMin","isDirectionUp","transform","visibility"],"mappings":"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","file":"index.js","sourcesContent":["// http://paulirish.com/2011/requestanimationframe-for-smart-animating/\n// http://my.opera.com/emoller/blog/2011/12/20/requestanimationframe-for-smart-er-animating\n\n// requestAnimationFrame polyfill by Erik MÃ¶ller. fixes from Paul Irish and Tino Zijdel\n\n// MIT license\n\n(function() {\n    var lastTime = 0;\n    var vendors = ['ms', 'moz', 'webkit', 'o'];\n    for(var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\n        window.requestAnimationFrame = window[vendors[x]+'RequestAnimationFrame'];\n        window.cancelAnimationFrame = window[vendors[x]+'CancelAnimationFrame'] \n                                   || window[vendors[x]+'CancelRequestAnimationFrame'];\n    }\n \n    if (!window.requestAnimationFrame)\n        window.requestAnimationFrame = function(callback, element) {\n            var currTime = new Date().getTime();\n            var timeToCall = Math.max(0, 16 - (currTime - lastTime));\n            var id = window.setTimeout(function() { callback(currTime + timeToCall); }, \n              timeToCall);\n            lastTime = currTime + timeToCall;\n            return id;\n        };\n \n    if (!window.cancelAnimationFrame)\n        window.cancelAnimationFrame = function(id) {\n            clearTimeout(id);\n        };\n}());","initSmoothScrolling();\n\nfunction initSmoothScrolling() {\n  if ('scrollBehavior' in document.documentElement.style) return;\n\n  var duration = 300,\n    pageUrl = location.hash ? stripHash(location.href) : location.href;\n\n  addClickHandler();\n\n  function addClickHandler() {\n    var links = [...document.querySelectorAll('a')].filter(isInPageLink);\n    for (let a of links) {\n      a.addEventListener('click', onClick, false);\n    }\n\n    function onClick(e) {\n      e.stopPropagation();\n      e.preventDefault();\n      var hash = e.target.hash;\n\n      jump(hash, {\n        duration: duration,\n        offset: -10,\n        callback: function() {\n          setFocus(hash);\n          history.pushState(null,null,hash);\n        }\n      });\n    }\n\n  }\n\n  function isInPageLink(n) {\n    return n.tagName.toLowerCase() === 'a' &&\n      n.hash.length > 0 &&\n      stripHash(n.href) === pageUrl;\n  }\n\n  function stripHash(url) {\n    return url.slice(0, url.lastIndexOf('#'));\n  }\n\n  function setFocus(hash) {\n    var element = document.getElementById(hash.substring(1));\n\n    if (element) {\n      if (!/^(?:a|select|input|button|textarea)$/i.test(element.tagName)) {\n        element.tabIndex = -1;\n      }\n\n      element.focus();\n    }\n  }\n\n}\n\nfunction jump(target, options) {\n  var\n    start = window.pageYOffset,\n    opt = {\n      duration: options.duration,\n      offset: options.offset || 0,\n      callback: options.callback,\n      easing: options.easing || easeInOutQuad\n    },\n    distance = typeof target === 'string' ?\n      opt.offset + document.querySelector(target).getBoundingClientRect().top :\n      target,\n    duration = typeof opt.duration === 'function' ?\n      opt.duration(distance) :\n      opt.duration,\n    timeStart, timeElapsed;\n\n  if (distance < 0) {\n    distance -= 70;\n  }\n\n  requestAnimationFrame(function(time) {\n    timeStart = time;\n    loop(time);\n  });\n\n  function loop(time) {\n    timeElapsed = time - timeStart;\n\n    window.scrollTo(0, opt.easing(timeElapsed, start, distance, duration));\n\n    if (timeElapsed < duration)\n      requestAnimationFrame(loop);\n    else\n      end();\n  }\n\n  function end() {\n    window.scrollTo(0, start + distance);\n\n    if (typeof opt.callback === 'function')\n      opt.callback();\n  }\n\n  // Robert Penner's easeInOutQuad - http://robertpenner.com/easing/\n  function easeInOutQuad(t, b, c, d) {\n    t /= d / 2;\n    if (t < 1) return c / 2 * t * t + b;\n    t--;\n    return -c / 2 * (t * (t - 2) - 1) + b;\n  }\n\n}\n","(function () {\n\n  \"use strict\";\n\n  var id = \"headerbar\",\n    originalObj = document.getElementById(id),\n    lastScrollTop = -1,\n    height,\n    cloneObj,\n    minDistance;\n\n  var _cloneObj = function (obj) {\n    var cloneObj = obj.cloneNode(true);\n    cloneObj.id = obj.id + \"_clone\";\n    cloneObj.classList.add(cloneObj.id);\n    obj.parentNode.insertBefore(cloneObj, obj);\n    return cloneObj;\n  };\n\n  var _setVars = function () {\n    height = cloneObj.offsetHeight;\n    minDistance = cloneObj.offsetTop + height;\n  };\n\n  var _redrawLoop = function () {\n    var pageY = window.pageYOffset;\n\n    if (lastScrollTop !== pageY) {\n\n      var offset = window.scrollY,\n        travelledMin = (minDistance - offset) <= 0,\n        isDirectionUp = offset < lastScrollTop;\n\n      if (travelledMin) {\n        if (isDirectionUp) {\n          originalObj.style.transform = \"translateY(0)\";\n        } else {\n          originalObj.style.transform = `translateY(${-height}px)`;\n        }\n      }\n\n      lastScrollTop = pageY;\n    }\n\n    requestAnimationFrame(_redrawLoop);\n  };\n\n  if (originalObj) {\n\n    cloneObj = _cloneObj(originalObj);\n    cloneObj.style.visibility = \"hidden\";\n    originalObj.classList.add(\"nav_fixed\");\n\n    _setVars();\n    _redrawLoop();\n    window.addEventListener(\"resize\", _setVars, false);\n  }\n\n}());\n"]}